{"ast":null,"code":"var _jsxFileName = \"/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/components/CartOverlay.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ProductAttributes from \"../components/ProductAttributes\";\nimport CartQuantityHandler from \"../components/CartQuantityHandler\";\nimport CartProductCounter from \"./CartProductCounter\";\nimport { connect } from \"react-redux\";\nimport cartIcon from \"../images/cartIcon.svg\";\nimport { getProductPrice, productsCounter } from \"../utils/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport class CartOverlay extends Component {\n  constructor() {\n    super();\n    this.handleTrigger = this.handleTrigger.bind(this);\n  }\n\n  getTotalPrice() {\n    const {\n      currency,\n      cartItems\n    } = this.props;\n    let totalPrice = 0;\n    cartItems.map(_ref => {\n      let {\n        productDetails: {\n          prices\n        },\n        quantity\n      } = _ref;\n      const price = getProductPrice(prices, currency);\n      return totalPrice += price.amount * quantity;\n    });\n    return Math.round(totalPrice * 100) / 100;\n  }\n\n  handleTrigger() {\n    const {\n      handleCurrencySwitcherTrigger,\n      handleCartOverlayTrigger,\n      cartOverlayIsOpen\n    } = this.props;\n    handleCurrencySwitcherTrigger(false);\n    handleCartOverlayTrigger(!cartOverlayIsOpen);\n  }\n\n  render() {\n    const {\n      cartItems,\n      currency,\n      currencyLabel,\n      cartOverlayIsOpen\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-overlay-header\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => this.handleTrigger(),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"cart-overlay-icon\",\n            src: cartIcon,\n            alt: \"cart icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CartProductCounter, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), cartOverlayIsOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-overlay-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"cart-overlay-body-title\",\n          children: [\"My bag,\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cart-overlay-body-title-quantity\",\n            children: ` ${productsCounter(cartItems)} ${productsCounter(cartItems) !== 1 ? \"items\" : \"item\"}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-overlay-body-products-container\",\n          children: [cartItems.map((_ref2, index) => {\n            let {\n              productDetails,\n              selectedAttributes,\n              quantity\n            } = _ref2;\n            const price = productDetails.prices && productDetails.prices.find(price => price.currency.label === currency);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-overlay-body-product\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-overlay-body-product-title-container\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: `${productDetails.name} ${productDetails.brand}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"cart-overlay-body-product-price\",\n                children: `${price.currency.symbol}${Math.round(price.amount * quantity * 100) / 100}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-overlay-body-product-attributes-container\",\n                children: /*#__PURE__*/_jsxDEV(ProductAttributes, {\n                  attributes: productDetails.attributes,\n                  selectedAttributes: selectedAttributes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-overlay-body-product-quantity-container\",\n                children: /*#__PURE__*/_jsxDEV(CartQuantityHandler, {\n                  quantity: quantity,\n                  productDetails: productDetails,\n                  selectedAttributes: selectedAttributes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-overlay-body-product-img-container\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: productDetails.gallery[0],\n                  alt: productDetails.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-overlay-body-total-container\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"cart-overlay-body-total-title\",\n              children: [\"Total\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cart-overlay-body-total-price\",\n                children: `${currencyLabel} ${this.getTotalPrice()}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-overlay-body-bag-and-checkout-container\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/cart\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"view-bag-button\",\n                children: \"VIEW BAG\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"checkout-button\",\n              children: \"CHECK OUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  cartItems: state.cart.cartItems,\n  currency: state.currentCurrency.currency,\n  currencyLabel: state.currentCurrency.label\n});\n\nexport default connect(mapStateToProps)(CartOverlay);","map":{"version":3,"sources":["/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/components/CartOverlay.jsx"],"names":["React","Component","Link","ProductAttributes","CartQuantityHandler","CartProductCounter","connect","cartIcon","getProductPrice","productsCounter","CartOverlay","constructor","handleTrigger","bind","getTotalPrice","currency","cartItems","props","totalPrice","map","productDetails","prices","quantity","price","amount","Math","round","handleCurrencySwitcherTrigger","handleCartOverlayTrigger","cartOverlayIsOpen","render","currencyLabel","index","selectedAttributes","find","label","name","brand","symbol","attributes","gallery","mapStateToProps","state","cart","currentCurrency"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport ProductAttributes from \"../components/ProductAttributes\";\nimport CartQuantityHandler from \"../components/CartQuantityHandler\";\nimport CartProductCounter from \"./CartProductCounter\";\nimport { connect } from \"react-redux\";\nimport cartIcon from \"../images/cartIcon.svg\";\nimport { getProductPrice, productsCounter } from \"../utils/utils\";\n\nexport class CartOverlay extends Component {\n  constructor() {\n    super();\n\n    this.handleTrigger = this.handleTrigger.bind(this);\n  }\n  getTotalPrice() {\n    const { currency, cartItems } = this.props;\n    let totalPrice = 0;\n    cartItems.map(({ productDetails: { prices }, quantity }) => {\n      const price = getProductPrice(prices, currency);\n      return (totalPrice += price.amount * quantity);\n    });\n    return Math.round(totalPrice * 100) / 100;\n  }\n\n  handleTrigger() {\n    const {\n      handleCurrencySwitcherTrigger,\n      handleCartOverlayTrigger,\n      cartOverlayIsOpen,\n    } = this.props;\n    handleCurrencySwitcherTrigger(false);\n    handleCartOverlayTrigger(!cartOverlayIsOpen);\n  }\n\n  render() {\n    const { cartItems, currency, currencyLabel, cartOverlayIsOpen } =\n      this.props;\n\n    return (\n      <>\n        <div className=\"cart-overlay-header\">\n          <button type=\"button\" onClick={() => this.handleTrigger()}>\n            <img className=\"cart-overlay-icon\" src={cartIcon} alt=\"cart icon\" />\n            <CartProductCounter />\n          </button>\n        </div>\n        {cartOverlayIsOpen && (\n          <div className=\"cart-overlay-body\">\n            <h2 className=\"cart-overlay-body-title\">\n              My bag,\n              <span className=\"cart-overlay-body-title-quantity\">{` ${productsCounter(\n                cartItems\n              )} ${productsCounter(cartItems) !== 1 ? \"items\" : \"item\"}`}</span>\n            </h2>\n            <div className=\"cart-overlay-body-products-container\">\n              {cartItems.map(\n                ({ productDetails, selectedAttributes, quantity }, index) => {\n                  const price =\n                    productDetails.prices &&\n                    productDetails.prices.find(\n                      (price) => price.currency.label === currency\n                    );\n                  return (\n                    <div key={index} className=\"cart-overlay-body-product\">\n                      <div className=\"cart-overlay-body-product-title-container\">\n                        <h2>\n                          {`${productDetails.name} ${productDetails.brand}`}\n                        </h2>\n                      </div>\n                      <h2 className=\"cart-overlay-body-product-price\">{`${\n                        price.currency.symbol\n                      }${Math.round(price.amount * quantity * 100) / 100}`}</h2>\n                      <div className=\"cart-overlay-body-product-attributes-container\">\n                        <ProductAttributes\n                          attributes={productDetails.attributes}\n                          selectedAttributes={selectedAttributes}\n                        />\n                      </div>\n                      <div className=\"cart-overlay-body-product-quantity-container\">\n                        <CartQuantityHandler\n                          quantity={quantity}\n                          productDetails={productDetails}\n                          selectedAttributes={selectedAttributes}\n                        />\n                      </div>\n                      <div className=\"cart-overlay-body-product-img-container\">\n                        <img\n                          key={index}\n                          src={productDetails.gallery[0]}\n                          alt={productDetails.name}\n                        />\n                      </div>\n                    </div>\n                  );\n                }\n              )}\n              <div className=\"cart-overlay-body-total-container\">\n                <h2 className=\"cart-overlay-body-total-title\">\n                  Total{\" \"}\n                  <span className=\"cart-overlay-body-total-price\">{`${currencyLabel} ${this.getTotalPrice()}`}</span>\n                </h2>\n              </div>\n              <div className=\"cart-overlay-body-bag-and-checkout-container\">\n                <Link to=\"/cart\">\n                  <button className=\"view-bag-button\">VIEW BAG</button>\n                </Link>\n                <button className=\"checkout-button\">CHECK OUT</button>\n              </div>\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.cart.cartItems,\n  currency: state.currentCurrency.currency,\n  currencyLabel: state.currentCurrency.label,\n});\n\nexport default connect(mapStateToProps)(CartOverlay);\n"]},"metadata":{},"sourceType":"module"}