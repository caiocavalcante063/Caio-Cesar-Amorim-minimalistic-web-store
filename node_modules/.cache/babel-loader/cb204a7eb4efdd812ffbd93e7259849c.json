{"ast":null,"code":"var _jsxFileName = \"/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/components/ProductCard.jsx\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PRODUCT_QUERY } from \"../graphQL/queries\";\nimport { client } from \"..\";\nimport cartIconWhite from \"../images/cartIconWhite.svg\";\nimport { addToCartAction } from \"../redux/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductCard extends Component {\n  constructor() {\n    super();\n    this.productHoverAddToCart = this.productHoverAddToCart.bind(this);\n  }\n\n  productHoverAddToCart(e) {\n    const {\n      addToCart\n    } = this.props;\n    let selectedAttributes = {};\n    client.query({\n      query: PRODUCT_QUERY,\n      variables: {\n        id: `${e.target.id}`\n      }\n    }).then(result => {\n      result.data.product.attributes.map(attribute => {\n        const key = `${attribute.type} ${attribute.name}`;\n        selectedAttributes = { ...selectedAttributes,\n          [key]: attribute.items[0].value\n        };\n        return selectedAttributes;\n      });\n      const productObj = {\n        selectedAttributes,\n        productDetails: result.data.product,\n        quantity: 1\n      };\n      return productObj;\n    }).then(productObj => addToCart(productObj));\n  }\n\n  render() {\n    const {\n      id,\n      name,\n      inStock,\n      gallery,\n      prices,\n      brand,\n      currency\n    } = this.props;\n    const price = prices.find(price => price.currency.label === currency);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `product-card${inStock === false ? \"-out\" : \"\"}`,\n      id: id,\n      children: [inStock === false && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card-out-fade\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 31\n      }, this), inStock === true && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"product-card-hover-cart-button\",\n        type: \"button\",\n        onClick: this.productHoverAddToCart,\n        id: id,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"product-card-hover-cart-img\",\n          id: id,\n          src: cartIconWhite,\n          width: \"0\",\n          alt: \"cart icon\",\n          value: id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/product-details/${id}`,\n        children: [inStock === false && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"out-of-stock\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"out-of-stock-text\",\n            children: \"OUT OF STOCK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card-image-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"product-card-img\",\n            src: gallery[0],\n            alt: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"product-card-name\",\n          children: `${brand} ${name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"product-card-price\",\n          children: `${price.currency.symbol}${price.amount}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currency: state.currentCurrency.currency\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addToCart: product => dispatch(addToCartAction(product))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCard);","map":{"version":3,"sources":["/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/components/ProductCard.jsx"],"names":["React","Component","Link","connect","PRODUCT_QUERY","client","cartIconWhite","addToCartAction","ProductCard","constructor","productHoverAddToCart","bind","e","addToCart","props","selectedAttributes","query","variables","id","target","then","result","data","product","attributes","map","attribute","key","type","name","items","value","productObj","productDetails","quantity","render","inStock","gallery","prices","brand","currency","price","find","label","symbol","amount","mapStateToProps","state","currentCurrency","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { PRODUCT_QUERY } from \"../graphQL/queries\";\nimport { client } from \"..\";\nimport cartIconWhite from \"../images/cartIconWhite.svg\";\nimport { addToCartAction } from \"../redux/actions\";\n\nclass ProductCard extends Component {\n  constructor() {\n    super();\n\n    this.productHoverAddToCart = this.productHoverAddToCart.bind(this);\n  }\n\n  productHoverAddToCart(e) {\n    const { addToCart } = this.props;\n    let selectedAttributes = {};\n    client\n      .query({\n        query: PRODUCT_QUERY,\n        variables: { id: `${e.target.id}` },\n      })\n      .then((result) => {\n        result.data.product.attributes.map((attribute) => {\n          const key = `${attribute.type} ${attribute.name}`;\n          selectedAttributes = {\n            ...selectedAttributes,\n            [key]: attribute.items[0].value,\n          };\n          return selectedAttributes;\n        });\n\n        const productObj = {\n          selectedAttributes,\n          productDetails: result.data.product,\n          quantity: 1,\n        };\n        return productObj;\n      })\n      .then((productObj) => addToCart(productObj));\n  }\n\n  render() {\n    const { id, name, inStock, gallery, prices, brand, currency } = this.props;\n\n    const price = prices.find((price) => price.currency.label === currency);\n\n    return (\n      <div className={`product-card${inStock === false ? \"-out\" : \"\"}`} id={id}>\n        {inStock === false && <div className=\"product-card-out-fade\"></div>}\n        {inStock === true && (\n          <button\n            className=\"product-card-hover-cart-button\"\n            type=\"button\"\n            onClick={this.productHoverAddToCart}\n            id={id}\n          >\n            <img\n              className=\"product-card-hover-cart-img\"\n              id={id}\n              src={cartIconWhite}\n              width=\"0\"\n              alt=\"cart icon\"\n              value={id}\n            />\n          </button>\n        )}\n        <Link to={`/product-details/${id}`}>\n          {inStock === false && (\n            <div className=\"out-of-stock\">\n              <h2 className=\"out-of-stock-text\">OUT OF STOCK</h2>\n            </div>\n          )}\n          <div className=\"product-card-image-container\">\n            <img className=\"product-card-img\" src={gallery[0]} alt={name} />\n          </div>\n          <h2 className=\"product-card-name\">{`${brand} ${name}`}</h2>\n          <h2 className=\"product-card-price\">{`${price.currency.symbol}${price.amount}`}</h2>\n        </Link>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  currency: state.currentCurrency.currency,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  addToCart: (product) => dispatch(addToCartAction(product)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductCard);\n"]},"metadata":{},"sourceType":"module"}