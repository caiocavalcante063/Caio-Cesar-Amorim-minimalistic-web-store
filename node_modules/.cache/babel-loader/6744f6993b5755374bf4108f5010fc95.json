{"ast":null,"code":"var _jsxFileName = \"/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/pages/Cart.jsx\";\nimport React, { Component } from \"react\";\nimport ProductAttributes from \"../components/ProductAttributes\";\nimport CartQuantityHandler from \"../components/CartQuantityHandler\";\nimport { connect } from \"react-redux\";\nimport { getProductPrice } from \"../utils/utils\";\nimport leftArrow from \"../images/leftArrow.svg\";\nimport rightArrow from \"../images/rightArrow.svg\";\nimport \"../styles/main.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n    this.state = {\n      galleryIndexes: []\n    };\n    this.handleCurrentImage = this.handleCurrentImage.bind(this);\n    this.galleryIndexFinder = this.galleryIndexFinder.bind(this);\n    this.imageIndex = this.imageIndex.bind(this);\n  }\n\n  componentDidMount() {\n    // setting initial indexes for the carousels\n    const {\n      cartItems\n    } = this.props;\n    this.setState({\n      galleryIndexes: cartItems.map(_ref => {\n        let {\n          productIndex\n        } = _ref;\n        return [productIndex, 0];\n      })\n    });\n  }\n\n  galleryIndexFinder(productIndex) {\n    const {\n      galleryIndexes\n    } = this.state;\n    const currIndex = galleryIndexes.find(index => index[0] === productIndex);\n    return currIndex;\n  }\n\n  handleCurrentImage(productGallery, productIndex, e) {\n    const {\n      galleryIndexes\n    } = this.state;\n    let currIndex = galleryIndexes.find(index => index[0] === productIndex);\n    e.target.className.includes(\"right\") ? currIndex[1] >= productGallery.length - 1 ? currIndex[1] = 0 : currIndex[1] += 1 : currIndex[1] <= 0 ? currIndex[1] = productGallery.length - 1 : currIndex[1] -= 1;\n    this.setState({\n      galleryIndexes: [...galleryIndexes, currIndex]\n    });\n  }\n\n  imageIndex(index) {\n    const {\n      galleryIndexes\n    } = this.state;\n    const currIndex = galleryIndexes && galleryIndexes.length > 0 && this.galleryIndexFinder(index)[1];\n    return currIndex;\n  }\n\n  render() {\n    const {\n      cartItems,\n      currency\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"category-title-cart\",\n        children: \"CART\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container\",\n        children: cartItems.map((_ref2, index) => {\n          let {\n            productDetails,\n            selectedAttributes,\n            quantity,\n            productIndex\n          } = _ref2;\n          const price = getProductPrice(productDetails.prices, currency);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"cart-item-left-brand-name\",\n                children: productDetails.brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"cart-item-left-name\",\n                children: productDetails.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"cart-item-left-price\",\n                children: `${price.currency.symbol}${Math.round(price.amount * quantity * 100) / 100}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item-left-attributes-container\",\n                children: /*#__PURE__*/_jsxDEV(ProductAttributes, {\n                  attributes: productDetails.attributes,\n                  selectedAttributes: selectedAttributes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item-right-quantity-container\",\n                children: /*#__PURE__*/_jsxDEV(CartQuantityHandler, {\n                  quantity: quantity,\n                  productDetails: productDetails,\n                  selectedAttributes: selectedAttributes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-item-right-gallery-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"left-arrow\",\n                  src: leftArrow,\n                  alt: \"previous\",\n                  onClick: e => this.handleCurrentImage(productDetails.gallery, productIndex, e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"right-arrow\",\n                  src: rightArrow,\n                  alt: \"next\",\n                  onClick: e => this.handleCurrentImage(productDetails.gallery, productIndex, e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"product-img\",\n                  src: productDetails.gallery[this.imageIndex(productIndex)],\n                  alt: productDetails.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  cartItems: state.cart.cartItems,\n  currency: state.currentCurrency.currency\n});\n\nexport default connect(mapStateToProps)(Cart);","map":{"version":3,"sources":["/home/caio/Documentos/trybe/github-repositorios/minimalistic-web-store/src/pages/Cart.jsx"],"names":["React","Component","ProductAttributes","CartQuantityHandler","connect","getProductPrice","leftArrow","rightArrow","Cart","constructor","state","galleryIndexes","handleCurrentImage","bind","galleryIndexFinder","imageIndex","componentDidMount","cartItems","props","setState","map","productIndex","currIndex","find","index","productGallery","e","target","className","includes","length","render","currency","productDetails","selectedAttributes","quantity","price","prices","brand","name","symbol","Math","round","amount","attributes","gallery","mapStateToProps","cart","currentCurrency"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ProductAttributes from \"../components/ProductAttributes\";\nimport CartQuantityHandler from \"../components/CartQuantityHandler\";\nimport { connect } from \"react-redux\";\nimport { getProductPrice } from \"../utils/utils\";\nimport leftArrow from \"../images/leftArrow.svg\";\nimport rightArrow from \"../images/rightArrow.svg\";\nimport \"../styles/main.css\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      galleryIndexes: [],\n    };\n\n    this.handleCurrentImage = this.handleCurrentImage.bind(this);\n    this.galleryIndexFinder = this.galleryIndexFinder.bind(this);\n    this.imageIndex = this.imageIndex.bind(this);\n  }\n\n  componentDidMount() {\n    // setting initial indexes for the carousels\n    const { cartItems } = this.props;\n    this.setState({\n      galleryIndexes: cartItems.map(({ productIndex }) => [productIndex, 0]),\n    });\n  }\n\n  galleryIndexFinder(productIndex) {\n    const { galleryIndexes } = this.state;\n    const currIndex = galleryIndexes.find((index) => index[0] === productIndex);\n    return currIndex;\n  }\n\n  handleCurrentImage(productGallery, productIndex, e) {\n    const { galleryIndexes } = this.state;\n    let currIndex = galleryIndexes.find((index) => index[0] === productIndex);\n\n    e.target.className.includes(\"right\")\n      ? currIndex[1] >= productGallery.length - 1\n        ? (currIndex[1] = 0)\n        : (currIndex[1] += 1)\n      : currIndex[1] <= 0\n      ? (currIndex[1] = productGallery.length - 1)\n      : (currIndex[1] -= 1);\n\n    this.setState({ galleryIndexes: [...galleryIndexes, currIndex] });\n  }\n\n  imageIndex(index) {\n    const { galleryIndexes } = this.state;\n    const currIndex =\n      galleryIndexes &&\n      galleryIndexes.length > 0 &&\n      this.galleryIndexFinder(index)[1];\n    return currIndex;\n  }\n\n  render() {\n    const { cartItems, currency } = this.props;\n\n    return (\n      <div className=\"body-wrapper\">\n        <h1 className=\"category-title-cart\">CART</h1>\n        <div className=\"cart-container\">\n          {cartItems.map(\n            (\n              { productDetails, selectedAttributes, quantity, productIndex },\n              index\n            ) => {\n              const price = getProductPrice(productDetails.prices, currency);\n\n              return (\n                <div className=\"cart-item\" key={index}>\n                  <div className=\"cart-item-left\">\n                    <h2 className=\"cart-item-left-brand-name\">\n                      {productDetails.brand}\n                    </h2>\n                    <h2 className=\"cart-item-left-name\">\n                      {productDetails.name}\n                    </h2>\n                    {/* rounds prices to 2 decimal places */}\n                    <h2 className=\"cart-item-left-price\">{`${\n                      price.currency.symbol\n                    }${Math.round(price.amount * quantity * 100) / 100}`}</h2>\n                    <div className=\"cart-item-left-attributes-container\">\n                      <ProductAttributes\n                        attributes={productDetails.attributes}\n                        selectedAttributes={selectedAttributes}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"cart-item-right\">\n                    <div className=\"cart-item-right-quantity-container\">\n                      <CartQuantityHandler\n                        quantity={quantity}\n                        productDetails={productDetails}\n                        selectedAttributes={selectedAttributes}\n                      />\n                    </div>\n                    <div className=\"cart-item-right-gallery-container\">\n                      <img\n                        className=\"left-arrow\"\n                        src={leftArrow}\n                        alt=\"previous\"\n                        onClick={(e) =>\n                          this.handleCurrentImage(\n                            productDetails.gallery,\n                            productIndex,\n                            e\n                          )\n                        }\n                      />\n                      <img\n                        className=\"right-arrow\"\n                        src={rightArrow}\n                        alt=\"next\"\n                        onClick={(e) =>\n                          this.handleCurrentImage(\n                            productDetails.gallery,\n                            productIndex,\n                            e\n                          )\n                        }\n                      />\n                      <img\n                        className=\"product-img\"\n                        key={index}\n                        src={\n                          productDetails.gallery[this.imageIndex(productIndex)]\n                        }\n                        alt={productDetails.name}\n                      />\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.cart.cartItems,\n  currency: state.currentCurrency.currency,\n});\n\nexport default connect(mapStateToProps)(Cart);\n"]},"metadata":{},"sourceType":"module"}